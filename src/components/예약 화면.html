<html><head><base href="https://escapesparta.net/layout/res/home.php?go=reservation"><meta charset="UTF-8">
<title>EscapeSparta - 방탈출 예약</title>
<style>
body, html {
    margin: 0;
    padding: 0;
    font-family: 'Noto Sans KR', sans-serif;
    background-color: #000;
    color: #0f0;
    height: 100%;
}
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem;
}
header {
    background-color: rgba(0, 255, 0, 0.1);
    padding: 1rem;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 1000;
}
.logo {
    font-size: 1.5rem;
    font-weight: bold;
    color: #0f0;
    text-shadow: 0 0 10px #0f0;
}
nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
nav a {
    color: #0f0;
    text-decoration: none;
    margin-left: 1rem;
    padding: 0.5rem 1rem;
    border: 1px solid #0f0;
    border-radius: 5px;
    transition: all 0.3s ease;
}
nav a:hover {
    background-color: #0f0;
    color: #000;
}
h1, h2, h3 {
    text-shadow: 0 0 15px #0f0;
}
.booking-container {
    display: flex;
    margin-top: 2rem;
    gap: 2rem;
}
.theme-list {
    width: 30%;
    background-color: rgba(0, 255, 0, 0.05);
    border-radius: 10px;
    padding: 1rem;
    box-shadow: 0 0 10px #0f0;
}
.theme-item {
    margin-bottom: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 1px solid #0f0;
    border-radius: 5px;
    overflow: hidden;
}
.theme-item:hover, .theme-item.active {
    transform: scale(1.05);
    box-shadow: 0 0 15px #0f0;
}
.theme-image {
    width: 100%;
    height: 100px;
    object-fit: cover;
}
.theme-name {
    padding: 0.5rem;
    text-align: center;
    background-color: rgba(0, 255, 0, 0.1);
}
.booking-details {
    width: 70%;
    background-color: rgba(0, 255, 0, 0.05);
    border-radius: 10px;
    padding: 1rem;
    box-shadow: 0 0 10px #0f0;
    display: flex;
    flex-direction: column;
}
.theme-info {
    margin-bottom: 1rem;
    padding: 1rem;
    background-color: rgba(0, 255, 0, 0.1);
    border-radius: 5px;
    display: none;
}
.theme-info h3 {
    margin-top: 0;
}
.theme-info-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 5px;
    margin-bottom: 1rem;
}
.theme-description {
    margin-bottom: 1rem;
}
.theme-details {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 0.5rem;
    align-items: center;
}
.difficulty-stars {
    display: inline-flex;
    align-items: center;
}
.star {
    font-size: 1.2em;
    color: #0f0;
}
.date-picker {
    margin-bottom: 1rem;
}
.time-slots {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 0.5rem;
    margin-top: 1rem;
}
.time-slot {
    padding: 0.5rem;
    text-align: center;
    border: 1px solid #0f0;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s ease;
}
.time-slot:hover, .time-slot.selected {
    background-color: #0f0;
    color: #000;
}
button {
    background-color: #0f0;
    color: #000;
    border: none;
    padding: 0.5rem 1rem;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    border-radius: 5px;
}
button:hover {
    background-color: #000;
    color: #0f0;
    border: 1px solid #0f0;
}
.modal {
    display: none;
    position: fixed;
    z-index: 1001;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.4);
}
.modal-content {
    background-color: #000;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #0f0;
    width: 300px;
    box-shadow: 0 0 20px #0f0;
}
.close {
    color: #0f0;
    float: right;
    font-size: 28px;
    font-weight: bold;
}
.close:hover,
.close:focus {
    color: #00ff00;
    text-decoration: none;
    cursor: pointer;
}
.calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 5px;
}
.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}
.calendar-day {
    aspect-ratio: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    border: 1px solid #0f0;
    cursor: pointer;
}
.calendar-day:hover:not(.disabled) {
    background-color: #0f0;
    color: #000;
}
.calendar-day.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}
.calendar-day.selected {
    background-color: #0f0;
    color: #000;
}
</style>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
<header>
    <nav>
        <div class="logo">EscapeSparta</div>
        <div>
            <a href="https://escapesparta.net/layout/res/home.php?go=main">홈</a>
            <a href="https://escapesparta.net/search">방탈출 검색</a>
            <a href="https://escapesparta.net/profile">프로필</a>
            <a href="https://escapesparta.net/layout/res/home.php?go=logout">로그아웃</a>
        </div>
    </nav>
</header>

<div class="container">
    <h1>방탈출 예약하기</h1>
    
    <div class="booking-container">
        <div class="theme-list">
            <h2>테마 선택</h2>
            <div class="theme-item" data-theme="cyberpunk">
                <img class="theme-image" src="https://escapesparta.net/images/themes/cyberpunk-heist.jpg" alt="사이버펑크 히스트" width="200" height="100">
                <div class="theme-name">사이버펑크 히스트</div>
            </div>
            <div class="theme-item" data-theme="ancient">
                <img class="theme-image" src="https://escapesparta.net/images/themes/ancient-temple.jpg" alt="고대 사원의 비밀" width="200" height="100">
                <div class="theme-name">고대 사원의 비밀</div>
            </div>
            <div class="theme-item" data-theme="space">
                <img class="theme-image" src="https://escapesparta.net/images/themes/space-odyssey.jpg" alt="우주 오딧세이" width="200" height="100">
                <div class="theme-name">우주 오딧세이</div>
            </div>
            <div class="theme-item" data-theme="haunted">
                <img class="theme-image" src="https://escapesparta.net/images/themes/haunted-mansion.jpg" alt="저주받은 저택" width="200" height="100">
                <div class="theme-name">저주받은 저택</div>
            </div>
            <div class="theme-item" data-theme="time">
                <img class="theme-image" src="https://escapesparta.net/images/themes/time-traveler.jpg" alt="시간 여행자" width="200" height="100">
                <div class="theme-name">시간 여행자</div>
            </div>
        </div>
        
        <div class="booking-details">
            <div class="theme-info" id="theme-info">
                <h3 id="theme-title"></h3>
                <img id="theme-info-image" class="theme-info-image" src="" alt="" width="600" height="400">
                <div class="theme-description" id="theme-description"></div>
                <div class="theme-details">
                    <span>난이도:</span><span id="theme-difficulty" class="difficulty-stars"></span>
                    <span>인원:</span><span id="theme-capacity"></span>
                    <span>시간:</span><span id="theme-duration"></span>
                </div>
            </div>
            <div class="date-picker">
                <h2>날짜 선택</h2>
                <button id="date-select">날짜 선택하기</button>
                <p id="selected-date">선택된 날짜: 없음</p>
            </div>
            <div class="time-slots" id="time-slots">
                <!-- Time slots will be dynamically inserted here when a date is selected -->
            </div>
            <button id="book-button" style="display:none; margin-top: 1rem;">예약하기</button>
        </div>
    </div>
</div>

<div id="date-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div class="calendar-header">
            <button id="prev-month">&lt;</button>
            <h3 id="current-month">2023년 7월</h3>
            <button id="next-month">&gt;</button>
        </div>
        <div class="calendar" id="calendar-days">
            <!-- Calendar days will be dynamically inserted here -->
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const themeItems = document.querySelectorAll('.theme-item');
    const timeSlots = document.getElementById('time-slots');
    const bookButton = document.getElementById('book-button');
    const dateSelect = document.getElementById('date-select');
    const selectedDateDisplay = document.getElementById('selected-date');
    const modal = document.getElementById('date-modal');
    const closeBtn = document.getElementsByClassName('close')[0];
    const calendarDays = document.getElementById('calendar-days');
    const currentMonthElement = document.getElementById('current-month');
    const prevMonthButton = document.getElementById('prev-month');
    const nextMonthButton = document.getElementById('next-month');
    const themeInfo = document.getElementById('theme-info');
    const themeTitle = document.getElementById('theme-title');
    const themeInfoImage = document.getElementById('theme-info-image');
    const themeDescription = document.getElementById('theme-description');
    const themeDifficulty = document.getElementById('theme-difficulty');
    const themeCapacity = document.getElementById('theme-capacity');
    const themeDuration = document.getElementById('theme-duration');

    let currentDate = new Date();
    let selectedTheme = null;
    let selectedDate = null;
    let selectedTime = null;

    const themeDetails = {
        cyberpunk: {
            title: "사이버펑크 히스트",
            image: "https://escapesparta.net/images/themes/cyberpunk-heist.jpg",
            description: "2077년 네오서울, 거대 기업의 본사에서 극비 데이터를 훔쳐내는 첨단 하이테크 작전을 수행하세요.",
            difficulty: 5,
            capacity: "2-5명",
            duration: "75분"
        },
        ancient: {
            title: "고대 사원의 비밀",
            image: "https://escapesparta.net/images/themes/ancient-temple.jpg",
            description: "잃어버린 마야 문명의 사원에서 고대의 비밀을 풀어내고 숨겨진 보물을 찾아내세요.",
            difficulty: 3,
            capacity: "2-6명",
            duration: "60분"
        },
        space: {
            title: "우주 오딧세이",
            image: "https://escapesparta.net/images/themes/space-odyssey.jpg",
            description: "우주 정거장에 갇힌 당신, 산소가 바닥나기 전에 탈출 포드를 작동시켜야 합니다.",
            difficulty: 4,
            capacity: "3-6명",
            duration: "70분"
        },
        haunted: {
            title: "저주받은 저택",
            image: "https://escapesparta.net/images/themes/haunted-mansion.jpg",
            description: "오래된 저택에 숨겨진 악령의 저주를 풀고 탈출하세요. 공포와 스릴이 가득합니다.",
            difficulty: 2,
            capacity: "2-5명",
            duration: "60분"
        },
        time: {
            title: "시간 여행자",
            image: "https://escapesparta.net/images/themes/time-traveler.jpg",
            description: "고장난 시간 기계로 인해 과거에 갇혔습니다. 현재로 돌아가기 위한 시간 여행을 떠나세요.",
            difficulty: 5,
            capacity: "2-4명",
            duration: "80분"
        }
    };

    function updateCalendar() {
        calendarDays.innerHTML = '';

        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();
        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();

        currentMonthElement.textContent = `${year}년 ${month + 1}월`;

        for (let i = 0; i < firstDay; i++) {
            calendarDays.appendChild(document.createElement('div'));
        }

        for (let i = 1; i <= lastDate; i++) {
            const dayElement = document.createElement('div');
            dayElement.classList.add('calendar-day');
            dayElement.textContent = i;
            const cellDate = new Date(year, month, i);
            if (cellDate < new Date()) {
                dayElement.classList.add('disabled');
            } else {
                dayElement.addEventListener('click', () => selectDate(year, month, i));
            }
            calendarDays.appendChild(dayElement);
        }
    }

    function selectDate(year, month, day) {
        selectedDate = new Date(year, month, day);
        selectedDateDisplay.textContent = `선택된 날짜: ${selectedDate.toLocaleDateString()}`;
        modal.style.display = 'none';
        updateTimeSlots();
    }

    function updateTimeSlots() {
        timeSlots.innerHTML = '';
        const times = ['10:00', '12:00', '14:00', '16:00', '18:00', '20:00'];
        times.forEach(time => {
            const slot = document.createElement('div');
            slot.classList.add('time-slot');
            slot.textContent = time;
            slot.addEventListener('click', () => selectTime(time));
            timeSlots.appendChild(slot);
        });
    }

    function selectTime(time) {
        selectedTime = time;
        document.querySelectorAll('.time-slot').forEach(slot => slot.classList.remove('selected'));
        event.target.classList.add('selected');
        bookButton.style.display = 'block';
    }

    function updateThemeInfo(theme) {
        const details = themeDetails[theme];
        themeTitle.textContent = details.title;
        themeInfoImage.src = details.image;
        themeInfoImage.alt = details.title;
        themeDescription.textContent = details.description;
        themeDifficulty.innerHTML = '★'.repeat(details.difficulty) + '☆'.repeat(5 - details.difficulty);
        themeCapacity.textContent = details.capacity;
        themeDuration.textContent = details.duration;
        themeInfo.style.display = 'block';
    }

    themeItems.forEach(item => {
        item.addEventListener('click', function() {
            selectedTheme = this.dataset.theme;
            themeItems.forEach(i => i.classList.remove('active'));
            this.classList.add('active');
            updateThemeInfo(selectedTheme);
        });
    });

    dateSelect.addEventListener('click', () => {
        modal.style.display = 'block';
        updateCalendar();
    });

    closeBtn.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    window.addEventListener('click', (event) => {
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    });

    prevMonthButton.addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() - 1);
        updateCalendar();
    });

    nextMonthButton.addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() + 1);
        updateCalendar();
    });

    bookButton.addEventListener('click', () => {
        if (!selectedTheme || !selectedDate || !selectedTime) {
            alert('테마, 날짜, 시간을 모두 선택해주세요.');
            return;
        }
        alert(`예약이 완료되었습니다!\n테마: ${themeDetails[selectedTheme].title}\n날짜: ${selectedDate.toLocaleDateString()}\n시간: ${selectedTime}`);
    });

    updateCalendar();
});
</script>

</body>
</html>